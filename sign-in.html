<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In</title>
    <!-- 
        This HTML file provides the sign-in functionality for the Planner project.
        The purpose of this file is to allow existing users to sign in using their email and password.
        It checks the credentials against the stored user data in the browser's local storage.
        This functionality is essential for user authentication and ensuring that users access their personalized data.
        It contributes to the overall project by maintaining secure access control.
    -->

    <!-- Link to Google Fonts for Plus Jakarta Sans -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Link to external stylesheet -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Internal JavaScript for sign-in functionality -->
    <script>
        // Function to handle sign-in form submission
        function signIn(event) {
            event.preventDefault(); // Prevents the form from submitting and refreshing the page
            
            // Get email and password input values
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;

            // Retrieve stored email and password from local storage
            var storedEmail = localStorage.getItem('userEmail');
            var storedPassword = localStorage.getItem('userPassword');

            // Check if entered credentials match stored credentials
            if (email === storedEmail && password === storedPassword) {
                localStorage.setItem('currentUser', email); // Set the current user
                window.location.href = 'index.html'; // Redirect to home page
            } else {
                alert('Invalid email or password.'); // Show error message
            }
        }

        // Function to check if a user is already signed in
        function checkUser() {
            var currentUser = localStorage.getItem('currentUser');
            if (currentUser) {
                window.location.href = 'index.html'; // Redirect to home page if already signed in
            }
        }

        // Check user on window load
        window.onload = checkUser;
    </script>
</head>
<body>
    <!-- Main container for the sign-in content -->
    <div class="container">
        <div class="content">
            <h2>Sign In</h2>
            <!-- Sign-in form -->
            <form onsubmit="signIn(event)">
                <!-- Email input field -->
                <input type="email" id="email" placeholder="Email" required>
                <!-- Password input field -->
                <input type="password" id="password" placeholder="Password" required>
                <!-- Submit button -->
                <button type="submit" class="btn">Sign In</button>
            </form>
            <!-- Link to sign-up page -->
            <p>Don't have an account? <a href="sign-up.html" style="color: #D99326;">Sign Up</a></p>
        </div>
    </div>
</body>
</html>
