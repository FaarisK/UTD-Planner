<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planner</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html {
            height: 100%;
            background: radial-gradient(circle at top right, 
                                        #2C2C54 0%,  
                                        #003F5C 50%,  
                                        #231f16 100%);  
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            margin: 0;
            padding: 0;
            height: 100%;
            font-size: 18px;
            background: transparent; 
        }

        header {
            color: #EDEDED;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav {
            display: flex;
            align-items: center;
        }

        nav a {
            color: #EDEDED;
            text-decoration: none;
            margin: 0 15px;
            transition: color 0.3s;
        }

        nav a:hover {
            color: grey;
        }

        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-direction: column;
        }

        .content {
            text-align: left;
            padding: 10px;
            flex: 1;
            color: #EDEDED;
            font-size: 18px;
            width: 100%;
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: #D99326;
            color: #252b34;
            border-radius: 5px;
            text-decoration: none;
            margin-top: 20px;
            font-weight: bold;
            transition: background-color 0.3s, color 0.3s;
        }

        .btn:hover {
            background-color: grey;
            color: #252b34;
        }

        .footer {
            padding: 10px 30px;
            color: #EDEDED;
            font-size: 0.7em;
            text-align: left;
        }

        img {
            max-width: 60%;
            height: auto;
        }

        h2 {
            color: #EDEDED;
            font-size: 42px;
        }

        .logo {
            max-height: 50px;
            margin-right: 10px;
        }

        .flowchart {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }

        .year {
            display: flex;
            justify-content: space-between;
        }

        .semester {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 5px;
            width: 45%;
            min-width: 300px;
            min-height: 200px;
        }

        .semester h3 {
            color: #D99326;
            text-align: center;
            margin-bottom: 10px;
        }

        .class-item {
            background: #2C2C54;
            color: #EDEDED;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            cursor: move;
        }

        .class-item.dragging {
            opacity: 0.5;
        }
    </style>
    <script>
        function checkUser() {
            var currentUser = localStorage.getItem('currentUser');
            if (!currentUser) {
                window.location.href = 'sign-in.html';
            } else {
                loadClasses();
            }
        }

        function signOut() {
            localStorage.removeItem('currentUser');
            window.location.href = 'sign-in.html';
        }

        function loadClasses() {
            var currentUser = localStorage.getItem('currentUser');
            var userClasses = JSON.parse(localStorage.getItem(currentUser + '_classes')) || {};
            var semesters = ['fall1', 'spring1', 'fall2', 'spring2', 'fall3', 'spring3', 'fall4', 'spring4'];
            semesters.forEach(function(semester) {
                var semesterEl = document.getElementById(semester);
                semesterEl.innerHTML = '';
                if (userClasses[semester]) {
                    userClasses[semester].forEach(function(cls) {
                        var classItem = document.createElement('div');
                        classItem.classList.add('class-item');
                        classItem.textContent = cls;
                        classItem.setAttribute('draggable', true);
                        classItem.addEventListener('dragstart', dragStart);
                        classItem.addEventListener('dragend', dragEnd);
                        semesterEl.appendChild(classItem);
                    });
                }
            });
        }

        function saveClasses() {
            var currentUser = localStorage.getItem('currentUser');
            var userClasses = {};
            var semesters = ['fall1', 'spring1', 'fall2', 'spring2', 'fall3', 'spring3', 'fall4', 'spring4'];
            semesters.forEach(function(semester) {
                var semesterEl = document.getElementById(semester);
                userClasses[semester] = [];
                semesterEl.querySelectorAll('.class-item').forEach(function(classItem) {
                    userClasses[semester].push(classItem.textContent);
                });
            });
            localStorage.setItem(currentUser + '_classes', JSON.stringify(userClasses));
        }

        function dragStart(event) {
            event.dataTransfer.setData('text/plain', event.target.textContent);
            event.target.classList.add('dragging');
        }

        function dragEnd(event) {
            event.target.classList.remove('dragging');
        }

        function allowDrop(event) {
            event.preventDefault();
        }

        function drop(event) {
            event.preventDefault();
            var data = event.dataTransfer.getData('text/plain');
            var classItem = document.createElement('div');
            classItem.classList.add('class-item');
            classItem.textContent = data;
            classItem.setAttribute('draggable', true);
            classItem.addEventListener('dragstart', dragStart);
            classItem.addEventListener('dragend', dragEnd);
            event.target.appendChild(classItem);
            saveClasses();
        }

        window.onload = checkUser;
    </script>
</head>
<body>
    <header>
        <nav>
            <img src="C:/Users/faari/Downloads/Screenshot_2023-10-15_002025-removebg-preview (1).png" alt="Gather Logo" class="logo">
            <a href="#">Home</a>
            <a href="addclasses.html">Add Classes</a>
            <a href="searchclasses.html">Search Classes</a>
            <a href="https://nsm.utdallas.edu/advising/degree-plans/" target="_blank">Example flowcharts</a>
        </nav>
        <a href="#" onclick="signOut()" class="btn">Sign Out</a>
    </header>

    <div class="container">
        <div class="content">
            <h2>Welcome to Planner!</h2>
            <p>The app Planner aims to link students to all the activities and social networks on campus.</p>
            <h3>Your Classes</h3>
            <div class="flowchart">
                <div class="year">
                    <div id="fall1" class="semester" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h3>Freshman Year - Fall</h3>
                    </div>
                    <div id="spring1" class="semester" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h3>Freshman Year - Spring</h3>
                    </div>
                </div>
                <div class="year">
                    <div id="fall2" class="semester" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h3>Sophomore Year - Fall</h3>
                    </div>
                    <div id="spring2" class="semester" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h3>Sophomore Year - Spring</h3>
                    </div>
                </div>
                <div class="year">
                    <div id="fall3" class="semester" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h3>Junior Year - Fall</h3>
                    </div>
                    <div id="spring3" class="semester" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h3>Junior Year - Spring</h3>
                    </div>
                </div>
                <div class="year">
                    <div id="fall4" class="semester" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h3>Senior Year - Fall</h3>
                    </div>
                    <div id="spring4" class="semester" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <h3>Senior Year - Spring</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>For any inquiries please contact us at: <a href="mailto:faarisamirkhan@gmail.com" style="color: #EDEDED;">som21aaron@gmail.com</a></p>
        <p>&copy; 2024 Planner Inc. All rights reserved.</p>
    </footer>
</body>
</html>
